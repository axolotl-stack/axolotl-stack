//! Biome constants and lookup tables for vanilla world generation.
//!
//! Based on Cubiomes biome parameter data.

/// Biome IDs matching vanilla Minecraft.
#[derive(Debug, Clone, Copy, PartialEq, Eq, Hash)]
#[repr(u8)]
pub enum Biome {
    Ocean = 0,
    Plains = 1,
    Desert = 2,
    WindsweptHills = 3,
    Forest = 4,
    Taiga = 5,
    Swamp = 6,
    River = 7,
    NetherWastes = 8,
    TheEnd = 9,
    FrozenOcean = 10,
    FrozenRiver = 11,
    SnowyPlains = 12,
    SnowyMountains = 13,
    MushroomFields = 14,
    MushroomFieldShore = 15,
    Beach = 16,
    DesertHills = 17,
    WoodedHills = 18,
    TaigaHills = 19,
    MountainEdge = 20,
    Jungle = 21,
    JungleHills = 22,
    SparseJungle = 23,
    DeepOcean = 24,
    StonyShore = 25,
    SnowyBeach = 26,
    BirchForest = 27,
    BirchForestHills = 28,
    DarkForest = 29,
    SnowyTaiga = 30,
    SnowyTaigaHills = 31,
    OldGrowthPineTaiga = 32,
    OldGrowthPineTaigaHills = 33,
    WindsweptForest = 34,
    Savanna = 35,
    SavannaPlateau = 36,
    Badlands = 37,
    WoodedBadlands = 38,
    BadlandsPlateau = 39,
    SmallEndIslands = 40,
    EndMidlands = 41,
    EndHighlands = 42,
    EndBarrens = 43,
    WarmOcean = 44,
    LukewarmOcean = 45,
    ColdOcean = 46,
    DeepWarmOcean = 47,
    DeepLukewarmOcean = 48,
    DeepColdOcean = 49,
    DeepFrozenOcean = 50,
    TheVoid = 127,
    SunflowerPlains = 129,
    GravellyMountains = 131,
    FlowerForest = 132,
    IceSpikes = 140,
    TallBirchForest = 155,
    OldGrowthSpruceTaiga = 160,
    WindsweptSavanna = 163,
    ErodedBadlands = 165,
    BambooJungle = 168,
    SoulSandValley = 170,
    CrimsonForest = 171,
    WarpedForest = 172,
    BasaltDeltas = 173,
    DripstoneCaves = 174,
    LushCaves = 175,
    Meadow = 177,
    Grove = 178,
    SnowySlopes = 179,
    JaggedPeaks = 180,
    FrozenPeaks = 181,
    StonyPeaks = 182,
    DeepDark = 183,
    MangroveSwamp = 184,
}

impl Default for Biome {
    fn default() -> Self {
        Self::Plains
    }
}

impl From<u8> for Biome {
    fn from(id: u8) -> Self {
        // Safety: we validate the range
        match id {
            0 => Self::Ocean,
            1 => Self::Plains,
            2 => Self::Desert,
            3 => Self::WindsweptHills,
            4 => Self::Forest,
            5 => Self::Taiga,
            6 => Self::Swamp,
            7 => Self::River,
            8 => Self::NetherWastes,
            9 => Self::TheEnd,
            10 => Self::FrozenOcean,
            11 => Self::FrozenRiver,
            12 => Self::SnowyPlains,
            27 => Self::BirchForest,
            29 => Self::DarkForest,
            30 => Self::SnowyTaiga,
            32 => Self::OldGrowthPineTaiga,
            35 => Self::Savanna,
            37 => Self::Badlands,
            44 => Self::WarmOcean,
            45 => Self::LukewarmOcean,
            46 => Self::ColdOcean,
            48 => Self::DeepLukewarmOcean,
            49 => Self::DeepColdOcean,
            50 => Self::DeepFrozenOcean,
            177 => Self::Meadow,
            178 => Self::Grove,
            179 => Self::SnowySlopes,
            180 => Self::JaggedPeaks,
            181 => Self::FrozenPeaks,
            182 => Self::StonyPeaks,
            _ => Self::Plains,
        }
    }
}

/// Biome parameter ranges [temperature_min, temperature_max].
/// Each entry is two i64 values scaled by 10000.
pub const BIOME_PARAMS: [[i64; 2]; 139] = [
    [-12000, -10500],
    [-12000, -4550],
    [-12000, 10000],
    [-10500, -4550],
    [-10500, -1900],
    [-10500, 10000],
    [-10000, -9333],
    [-10000, -7799],
    [-10000, -7666],
    [-10000, -5666],
    [-10000, -4500],
    [-10000, -4000],
    [-10000, -3750],
    [-10000, -3500],
    [-10000, -2666],
    [-10000, -2225],
    [-10000, -1500],
    [-10000, -1000],
    [-10000, -500],
    [-10000, 500],
    [-10000, 1000],
    [-10000, 2000],
    [-10000, 2666],
    [-10000, 3000],
    [-10000, 4000],
    [-10000, 5500],
    [-10000, 5666],
    [-10000, 9333],
    [-10000, 10000],
    [-9333, -7666],
    [-9333, -5666],
    [-9333, -4000],
    [-9333, -2666],
    [-9333, 2666],
    [-9333, 4000],
    [-9333, 5666],
    [-9333, 10000],
    [-7799, -3750],
    [-7799, -2225],
    [-7666, -5666],
    [-7666, -4000],
    [-7666, -2666],
    [-7666, -500],
    [-7666, 500],
    [-7666, 4000],
    [-7666, 5666],
    [-5666, -4000],
    [-5666, -2666],
    [-5666, -500],
    [-5666, 500],
    [-5666, 2666],
    [-5666, 4000],
    [-5666, 5666],
    [-5666, 7666],
    [-4550, -1900],
    [-4500, -1500],
    [-4500, 2000],
    [-4500, 5500],
    [-4500, 10000],
    [-4000, -2666],
    [-4000, -500],
    [-4000, 2666],
    [-4000, 4000],
    [-4000, 5666],
    [-4000, 9333],
    [-4000, 10000],
    [-3750, -2225],
    [-3750, 500],
    [-3750, 5500],
    [-3500, -1000],
    [-3500, 1000],
    [-3500, 3000],
    [-3500, 10000],
    [-2666, -500],
    [-2666, 500],
    [-2666, 2666],
    [-2666, 4000],
    [-2666, 5666],
    [-2666, 9333],
    [-2666, 10000],
    [-2225, 500],
    [-2225, 4500],
    [-1900, -1100],
    [-1900, 300],
    [-1900, 3000],
    [-1900, 10000],
    [-1500, 2000],
    [-1500, 5500],
    [-1500, 10000],
    [-1100, 300],
    [-1100, 3000],
    [-1100, 10000],
    [-1000, 1000],
    [-1000, 3000],
    [-1000, 10000],
    [-500, 500],
    [-500, 2666],
    [0, 0],
    [0, 10000],
    [0, 11000],
    [300, 3000],
    [300, 10000],
    [500, 2666],
    [500, 4000],
    [500, 4500],
    [500, 5500],
    [500, 5666],
    [500, 7666],
    [500, 9333],
    [500, 10000],
    [1000, 3000],
    [1000, 10000],
    [2000, 5500],
    [2000, 9000],
    [2000, 10000],
    [2666, 4000],
    [2666, 5666],
    [2666, 7666],
    [2666, 9333],
    [2666, 10000],
    [3000, 10000],
    [4000, 5666],
    [4000, 7666],
    [4000, 9333],
    [4000, 10000],
    [4500, 5500],
    [4500, 10000],
    [5500, 10000],
    [5666, 7666],
    [5666, 9333],
    [5666, 10000],
    [7000, 10000],
    [7666, 9333],
    [7666, 10000],
    [8000, 10000],
    [9333, 10000],
    [10000, 10000],
    [10000, 11000],
    [11000, 11000],
];
