// Generated by valentine_gen. Do not edit.

#![allow(non_camel_case_types)]
#![allow(non_snake_case)]
#![allow(dead_code)]
use bitflags::bitflags;
use super::*;
#[derive(Debug, Clone, PartialEq)]
pub struct BiomeDefinition {
    pub name_index: i16,
    pub biome_id: Option<u16>,
    pub temperature: f32,
    pub downfall: f32,
    pub red_spore_density: f32,
    pub blue_spore_density: f32,
    pub ash_density: f32,
    pub white_ash_density: f32,
    pub depth: f32,
    pub scale: f32,
    pub map_water_colour: i32,
    pub rain: bool,
    pub tags: Option<Vec<u16>>,
    pub chunk_generation: Option<BiomeChunkGeneration>,
}
impl crate::bedrock::codec::BedrockCodec for BiomeDefinition {
    fn encode<B: bytes::BufMut>(&self, buf: &mut B) -> Result<(), std::io::Error> {
        self.name_index.encode(buf)?;
        match &self.biome_id {
            Some(v) => {
                buf.put_u8(1);
                v.encode(buf)?;
            }
            None => buf.put_u8(0),
        }
        self.temperature.encode(buf)?;
        self.downfall.encode(buf)?;
        self.red_spore_density.encode(buf)?;
        self.blue_spore_density.encode(buf)?;
        self.ash_density.encode(buf)?;
        self.white_ash_density.encode(buf)?;
        self.depth.encode(buf)?;
        self.scale.encode(buf)?;
        self.map_water_colour.encode(buf)?;
        self.rain.encode(buf)?;
        match &self.tags {
            Some(v) => {
                buf.put_u8(1);
                let len = v.len() as i32;
                len.encode(buf)?;
                for item in &v {
                    item.encode(buf)?;
                }
            }
            None => buf.put_u8(0),
        }
        match &self.chunk_generation {
            Some(v) => {
                buf.put_u8(1);
                v.encode(buf)?;
            }
            None => buf.put_u8(0),
        }
        Ok(())
    }
    fn decode<B: bytes::Buf>(buf: &mut B) -> Result<Self, std::io::Error> {
        let name_index = <i16 as crate::bedrock::codec::BedrockCodec>::decode(buf)?;
        let biome_id = {
            let present = u8::decode(buf)?;
            if present != 0 {
                Some(<u16 as crate::bedrock::codec::BedrockCodec>::decode(buf)?)
            } else {
                None
            }
        };
        let temperature = <f32 as crate::bedrock::codec::BedrockCodec>::decode(buf)?;
        let downfall = <f32 as crate::bedrock::codec::BedrockCodec>::decode(buf)?;
        let red_spore_density = <f32 as crate::bedrock::codec::BedrockCodec>::decode(
            buf,
        )?;
        let blue_spore_density = <f32 as crate::bedrock::codec::BedrockCodec>::decode(
            buf,
        )?;
        let ash_density = <f32 as crate::bedrock::codec::BedrockCodec>::decode(buf)?;
        let white_ash_density = <f32 as crate::bedrock::codec::BedrockCodec>::decode(
            buf,
        )?;
        let depth = <f32 as crate::bedrock::codec::BedrockCodec>::decode(buf)?;
        let scale = <f32 as crate::bedrock::codec::BedrockCodec>::decode(buf)?;
        let map_water_colour = <i32 as crate::bedrock::codec::BedrockCodec>::decode(
            buf,
        )?;
        let rain = <bool as crate::bedrock::codec::BedrockCodec>::decode(buf)?;
        let tags = {
            let present = u8::decode(buf)?;
            if present != 0 {
                Some({
                    let len = <i32 as crate::bedrock::codec::BedrockCodec>::decode(buf)?
                        as usize;
                    let mut tmp_vec = Vec::with_capacity(len);
                    for _ in 0..len {
                        tmp_vec
                            .push(
                                <u16 as crate::bedrock::codec::BedrockCodec>::decode(buf)?,
                            );
                    }
                    tmp_vec
                })
            } else {
                None
            }
        };
        let chunk_generation = {
            let present = u8::decode(buf)?;
            if present != 0 {
                Some(
                    <BiomeChunkGeneration as crate::bedrock::codec::BedrockCodec>::decode(
                        buf,
                    )?,
                )
            } else {
                None
            }
        };
        Ok(Self {
            name_index,
            biome_id,
            temperature,
            downfall,
            red_spore_density,
            blue_spore_density,
            ash_density,
            white_ash_density,
            depth,
            scale,
            map_water_colour,
            rain,
            tags,
            chunk_generation,
        })
    }
}
